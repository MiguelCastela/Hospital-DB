INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\psycopg2\\__init__.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\aulas\\scripts-sql.zip', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\aulas\\scripts-sql.zip', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\aulas\\scripts-sql.zip', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\aulas\\scripts-sql.zip', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\aulas\\scripts-sql.zip', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\aulas\\scripts-sql.zip', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Scripts\\conda-script.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\deprecations.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\models\\enums.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\gateways\\disk\\create.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\core\\prefix_data.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\history.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\core\\solve.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\plugins\\types.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\plugins\\hookspec.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\plugins\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\base\\context.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\cli\\conda_argparse.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\cli\\main.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda\\exception_handler.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\wrappers\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\wrappers\\response.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\sansio\\response.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\wrappers\\request.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\sansio\\request.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\utils.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\_internal.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\concurrent\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\distutils\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\idlelib\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\lib2to3\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\test\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\turtledemo\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\wsgiref\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\xmlrpc\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\__phello__\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\adodbapi\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\aiobotocore\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\alabaster\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\anaconda_anon_usage\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\anaconda_navigator\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\anaconda_project\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\astropy\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\asttokens\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\atomicwrites\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\babel\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\backcall\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\backports\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\binaryornot\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\binstar_client\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\blackd\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\blib2to3\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\botocore\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\bottleneck\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\brotli\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\cloudpickle\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\clyent\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\colorcet\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_content_trust\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_env\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_index\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_libmamba_solver\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_pack\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_package_handling\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_package_streaming\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_token\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_verify\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\cookiecutter\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\cpuinfo\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\cssselect\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\curl\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\cytoolz\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\daal4py\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\datasets\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\datashader\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\datashape\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\diff_match_patch\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\dill\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\erfa\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\et_xmlfile\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flake8\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\future\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\gensim\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\glob2\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\h5py\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\hvplot\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\intervaltree\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\ipython_genutils\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\ipywidgets\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\itemadapter\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\itemloaders\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jedi\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jupyterlab\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jupyterlab_plotly\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jupyterlab_pygments\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jupyterlab_widgets\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jupyter_console\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jupyter_server_fileid\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jupyter_server_ydoc\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\jupyter_ydoc\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\kaleido\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\libfuturize\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\libmambapy\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\libpasteurize\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\linkify_it\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\llvmlite\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\lxml\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\lz4\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\matplotlib\\pylab.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\matplotlib\\tests\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\matplotlib\\tight_bbox.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\matplotlib_inline\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\menuinst\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\mkl\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\mpmath\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\msgpack\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\multipledispatch\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\navigator_updater\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\nbclassic\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\nbclient\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\nbconvert\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\nltk\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\notebook\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\notebook_shim\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\numexpr\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\numpydoc\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\param\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\parsel\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\parso\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\partd\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\past\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\ptyprocess\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\pyarrow\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\pyasn1_modules\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\pyct\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\pydispatch\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\pydocstyle\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\pyls_spyder\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\PyQt5\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\pyviz_comms\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\qdarkstyle\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\qstylizer\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\qtawesome\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\qtconsole\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\queuelib\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\repo_cli\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\rope\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\ruamel_yaml\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\s3fs\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\safetensors\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\scipy\\conftest.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\scipy\\setup.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\scipy\\version.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\sipbuild\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\snappy\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\spyder\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\spyder_kernels\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\stack_data\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\textdistance\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\text_unidecode\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\three_merge\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\tinycss2\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\tlz\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\toolz\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\transformers\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\tzdata\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\uc_micro\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\w3lib\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\watchdog\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\webencodings\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\websocket\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\wheel\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\widgetsnbextension\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\win32ctypes\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\winpty\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\wrapt\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\xyzservices\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\yapf\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\yapftests\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\zope\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\pythonwin\\pywin\\__init__.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\app.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\scaffold.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\sessions.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\json\\tag.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Scripts\\conda-script.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\conda_token\\__init__.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\logging\\__init__.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\psycopg2\\__init__.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\app.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\scaffold.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\sessions.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\json\\tag.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\config.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\typing.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\wrappers\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\wrappers\\response.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\sansio\\response.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\json\\__init__.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\wrappers.py', reloading
INFO:logger:GET /doctors
ERROR:logger:GET /doctors - error: ERRO:  relação "doctors" não existe
LINE 1: SELECT * FROM doctors
                      ^

INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:20:06] "GET /doctors/ HTTP/1.1" 200 -
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:22:46] "[33mGET /doctors/ HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:23:04] "[33mGET /doctors/ HTTP/1.1[0m" 404 -
INFO:logger:GET /doctor
DEBUG:logger:GET /doctor - parse
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:23:09] "GET /doctor/ HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\flask\\globals.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\wrappers\\request.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\sansio\\request.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\utils.py', reloading
INFO:werkzeug: * Detected change in 'C:\\Users\\micas\\OneDrive\\Documentos\\ananconda\\Lib\\site-packages\\werkzeug\\_internal.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:logger:POST /doctor
ERROR:logger:POST /doctor - error: ERRO:  coluna "name" da relação "doctor" não existe
LINE 1: INSERT INTO doctor (name, specialization) VALUES ('abreu irm...
                            ^

INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:27:30] "POST /doctor HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:logger:GET /user
ERROR:logger:GET /user - error: ERRO:  relação "user" não existe
LINE 1: SELECT * FROM "user"
                      ^

INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:44:46] "GET /user HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 817-856-317
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:46:46] "[33mGET /user HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:46:50] "[33mGET /user HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:47:29] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:47:29] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:logger:GET /user_
DEBUG:logger:GET /user_ - parse
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:48:07] "GET /user_ HTTP/1.1" 200 -
INFO:logger:POST /user_
ERROR:logger:POST /user_ - error: ERRO:  sintaxe de entrada é inválida para tipo boolean: "Portuguese"
LINE 1: ...irmão do abreu @ mail', 'password', '1980-01-01', 'Portugues...
                                                             ^

INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:49:21] "POST /user_ HTTP/1.1" 200 -
INFO:logger:POST /user_
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:51:13] "POST /user_ HTTP/1.1" 200 -
INFO:logger:GET /user_
DEBUG:logger:GET /user_ - parse
DEBUG:logger:(datetime.date(1980, 1, 1), 12345678, True, 'abreu2', 'password', 'irmão do abreu @ mail')
INFO:werkzeug:127.0.0.1 - - [18/Apr/2024 01:51:17] "GET /user_ HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Detected change in 'c:\\Users\\micas\\OneDrive\\Documentos\\BD_meta2\\demo-api.py', reloading
INFO:werkzeug: * Restarting with watchdog (windowsapi)
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 879-987-579
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 879-987-579
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 412-162-860
INFO:logger:POST /user_
INFO:werkzeug:127.0.0.1 - - [04/May/2024 18:43:17] "POST /user_ HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [04/May/2024 18:43:22] "[33mGET /user_/ HTTP/1.1[0m" 404 -
INFO:logger:GET /user_
DEBUG:logger:GET /user_ - parse
DEBUG:logger:(datetime.date(1980, 1, 1), 12345678, True, 'abreu2', 'password', 'irmão do abreu @ mail')
INFO:werkzeug:127.0.0.1 - - [04/May/2024 18:43:28] "GET /user_ HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 412-162-860
INFO:logger:GET /user_
DEBUG:logger:GET /user_ - parse
DEBUG:logger:(datetime.date(1980, 1, 1), 12345678, True, 'abreu2', 'password', 'irmão do abreu @ mail')
INFO:werkzeug:127.0.0.1 - - [04/May/2024 18:47:32] "GET /user_ HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 412-162-860
INFO:logger:POST /doctor
ERROR:logger:POST /doctor - error: column "name" of relation "doctor" does not exist
LINE 1: INSERT INTO doctor (name, specialization) VALUES ('Alejandro...
                            ^

INFO:werkzeug:127.0.0.1 - - [04/May/2024 19:02:45] "POST /doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 412-162-860
INFO:logger:POST /doctor
ERROR:logger:POST /doctor - error: column "specialization_expertize" of relation "doctor" does not exist
LINE 1: ...SERT INTO doctor (medical_license_id, university, specializa...
                                                             ^

INFO:werkzeug:127.0.0.1 - - [04/May/2024 19:08:30] "POST /doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
ERROR:logger:POST /doctor - error: column "specialization_expertize" of relation "doctor" does not exist
LINE 1: ...SERT INTO doctor (medical_license_id, university, specializa...
                                                             ^

INFO:werkzeug:127.0.0.1 - - [04/May/2024 19:10:07] "POST /doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 412-162-860
INFO:logger:POST /doctor
ERROR:logger:POST /doctor - error: column "specialization_expertize" of relation "doctor" does not exist
LINE 1: ...SERT INTO doctor (medical_license_id, university, specializa...
                                                             ^

INFO:werkzeug:127.0.0.1 - - [04/May/2024 19:10:26] "POST /doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [04/May/2024 19:11:26] "POST /doctor HTTP/1.1" 200 -
INFO:logger:GET /doctor
DEBUG:logger:GET /doctor - parse
DEBUG:logger:(123456, 'Boston', 'Cardiologia', 123456789)
INFO:werkzeug:127.0.0.1 - - [04/May/2024 19:12:32] "GET /doctor HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Users\\Deby\\Documents\\LEI\\BD\\Projeto\\BD-Project\\demo-api.py', reloading
INFO:werkzeug: * Restarting with stat
INFO:logger:API v1.0 online: http://127.0.0.1:8080
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 412-162-860
INFO:logger:GET /doctor
DEBUG:logger:GET /doctor - parse
DEBUG:logger:(123456, 'Boston', 'Cardiologia', 123456789)
INFO:werkzeug:127.0.0.1 - - [04/May/2024 19:14:26] "GET /doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /user_
INFO:werkzeug:127.0.0.1 - - [21/May/2024 19:41:42] "POST /user_ HTTP/1.1" 200 -
INFO:logger:POST /doctor
ERROR:logger:POST /doctor - error: null value in column "medical_license_id" of relation "doctor" violates not-null constraint
DETAIL:  Failing row contains (null, null, null, null).

INFO:werkzeug:127.0.0.1 - - [21/May/2024 22:58:23] "POST /doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:03:06] "POST /doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
ERROR:logger:POST /doctor - error: duplicate key value violates unique constraint "doctor_pkey"
DETAIL:  Key (employee_user__id_user_cc)=(18566) already exists.

INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:03:08] "POST /doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:39:15] "[33mPOST /nurse HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:54:59] "[33mPOST /register/doctor%20 HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:55:19] "[33mPOST /register/doctor%20 HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:55:41] "[33mPOST /nurse HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:55:46] "[33mPOST /register/doctor%20 HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:56:42] "[33mPOST /register/doctor%20 HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:57:50] "[33mPOST /register/doctor%20 HTTP/1.1[0m" 404 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 115, in add_doctor
    valores = (data['medical_license_id'], data['university'], data['specialization_expertize'], data['employee_user__id_user_cc'])
               ~~~~^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'medical_license_id'
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:58:54] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:59:18] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:59:18] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [21/May/2024 23:59:23] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:01:33] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 115, in add_doctor
    valores = (data['medical_license_id'], data['university'], data['specialization_expertize'], data['employee_user__id_user_cc'])
               ~~~~^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'medical_license_id'
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:01:41] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 115, in add_doctor
    valores = (data['medical_license_id'], data['university'], data['specialization_expertize'], data['employee_user__id_user_cc'])
               ~~~~^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'medical_license_id'
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:02:57] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 115, in add_doctor
    valores = (data['medical_license_id'], data['university'], data['specialization_expertize'], data['employee_user__id_user_cc'])
               ~~~~^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'medical_license_id'
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:05:29] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 115, in add_doctor
    valores = (data['medical_license_id'], data['university'], data['specialization_expertize'], data['employee_user__id_user_cc'])
               ~~~~^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'medical_license_id'
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:05:57] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 115, in add_doctor
    try:
         
KeyError: 'medical_license_id'
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:09:28] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:10:43] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:11:58] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:12:48] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:12:59] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:15:20] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:15:37] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:15:46] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:16:31] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:17:13] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:17:39] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:18:24] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:19:40] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:21:26] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:21:39] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:22:30] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:22:46] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
ERROR:demo-api:Exception on /register/doctor [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_doctor' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:24:09] "[35m[1mPOST /register/doctor HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:25:49] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:31:36] "POST /register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:36:51] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:36:59] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:37:03] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:37:14] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:37:26] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:37:35] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:37:43] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:38:25] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:39:23] "[31m[1mGET /register/doctor HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 00:52:50] "[33mGET /dbproj/register/patient HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:35:02] "[31m[1mPOST /user HTTP/1.1[0m" 405 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:39:48] "[31m[1mPOST /user HTTP/1.1[0m" 405 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:40:57] "[31m[1mPOST /user HTTP/1.1[0m" 405 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:43:31] "[31m[1mPOST /user HTTP/1.1[0m" 405 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:44:34] "[31m[1mPOST /register/doctor HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:44:37] "[31m[1mPOST /user HTTP/1.1[0m" 405 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:45:35] "[31m[1mPOST /user HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:45:41] "[31m[1mPOST /user HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:46:17] "PUT /user HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 01:47:17] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:26:21] "[33mPOST /register/patient HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:32:40] "[33mPOST /register/patient HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:32:45] "[33mPOST /register/patient HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:35:59] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /pacient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:39:25] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /pacient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:47:27] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /pacient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:48:01] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:POST /pacient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:48:15] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:POST /pacient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:48:33] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:50:42] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:50:46] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:53:12] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:53:13] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:53:48] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:54:20] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:54:55] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:55:22] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:56:27] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 16:59:51] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:01:23] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:02:35] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:05:09] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:05:38] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:06:32] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:07:24] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:07:39] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:10:20] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:10:45] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:11:03] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:11:16] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:12:00] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:12:31] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:12:58] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:14:02] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:15:19] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:15:46] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:16:14] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:17:09] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:26:21] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:27:55] "[31m[1mPOST /register/patient HTTP/1.1[0m" 400 -
INFO:logger:POST /patient
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 58, in add_pacient
    cur.execute(query)
TypeError: argument 1 must be a string or unicode object: got tuple instead
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:29:52] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 59, in add_pacient
    cur.execute(query)
TypeError: argument 1 must be a string or unicode object: got tuple instead
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:30:43] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:32:35] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 60, in add_pacient
    cur.execute(query)
psycopg2.errors.SyntaxError: syntax error at or near "%"
LINE 1: ...er_cc, name_, nationality, password, mail) VALUES(%s,%s,%s,%...
                                                             ^

INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:32:38] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 60, in add_pacient
    cur.execute(query)
psycopg2.errors.SyntaxError: syntax error at or near "%"
LINE 1: ...er_cc, name_, nationality, password, mail) VALUES(%s,%s,%s,%...
                                                             ^

INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:32:55] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 64, in add_pacient
    cur.execute(query_2, (user_id,))
psycopg2.errors.UndefinedColumn: column "id" of relation "patient" does not exist
LINE 1: INSERT INTO patient (id) VALUES(1)
                             ^

INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:33:38] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 64, in add_pacient
    cur.execute(query_2, str(user_id))
psycopg2.errors.UndefinedColumn: column "id" of relation "patient" does not exist
LINE 1: INSERT INTO patient (id) VALUES('1')
                             ^

INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:35:45] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:38:49] "POST /register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 64, in add_pacient
    cur.execute(query_2, str(user_id))
psycopg2.errors.UndefinedColumn: column "id" of relation "patient" does not exist
LINE 1: INSERT INTO patient (id) VALUES('1');
                             ^

INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:38:53] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:40:58] "POST /register/patient HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:41:50] "POST /register/patient HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:42:57] "POST /register/patient HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:43:20] "POST /register/patient HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:44:52] "POST /register/patient HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:45:11] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 17:51:46] "[33mGET /dbproj/register/patient HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 50, in add_patient_endpoint
    return add_patient()
           ^^^^^^^^^^^
NameError: name 'add_patient' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:13:12] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 50, in add_patient_endpoint
    return add_patient()
           ^^^^^^^^^^^
NameError: name 'add_patient' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:13:23] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 50, in add_patient_endpoint
    return add_patient()
           ^^^^^^^^^^^
NameError: name 'add_patient' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:14:15] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 50, in add_patient_endpoint
    return add_patient()
           ^^^^^^^^^^^
NameError: name 'add_patient' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:16:14] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 50, in add_patient_endpoint
    return add_patient()
           ^^^^^^^^^^^
NameError: name 'add_patient' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:16:51] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 51, in add_patient_endpoint
    return registers.add_patient()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/registers.py", line 8, in add_patient
    logger.info('POST /patient')
    ^^^^^^
NameError: name 'logger' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:17:37] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 50, in add_patient_endpoint
    return registers.add_patient()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/registers.py", line 9, in add_patient
    logger.info('POST /patient')
    ^^^^^^
NameError: name 'logger' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:18:34] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 51, in add_patient_endpoint
    return registers.add_patient()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/registers.py", line 11, in add_patient
    glb.logger.info('POST /patient')
    ^^^^^^^^^^
AttributeError: module 'funÃ§Ãµes_globais' has no attribute 'logger'
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:23:43] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /register/patient [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 51, in add_patient_endpoint
    return registers.add_patient()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/registers.py", line 11, in add_patient
    glb.logger.info('POST /patient')
    ^^^^^^^^^^
AttributeError: module 'funÃ§Ãµes_globais' has no attribute 'logger'
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:25:25] "[35m[1mPOST /register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:29:52] "POST /register/patient HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 18:31:23] "POST /register/patient HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:34:12] "[31m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 400 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:34:58] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:35:26] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:38:04] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:38:24] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:39:33] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:39:36] "[33mPOST /register/doctor HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:39:45] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:40:58] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:41:01] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:41:47] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:41:50] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:43:50] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:45:35] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:45:38] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:54:02] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:54:05] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:56:12] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 19:56:15] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:27:49] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:27:53] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:47:40] "POST /register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:47:43] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:55:02] "[33mPOST /register/patient HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:55:06] "[33mPOST /register/patient HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:55:20] "[33mPOST /dbfichas/register/patient HTTP/1.1[0m" 404 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:55:46] "POST /bdproj/register/patient HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/utilizador [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 78, in login
    return logins.authenticate_user()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/logins.py", line 14, in authenticate_user
    conn = glb.db_connection()
           ^^^
NameError: name 'glb' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:55:54] "[35m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/utilizador [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 78, in login
    return logins.authenticate_user()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/logins.py", line 14, in authenticate_user
    conn = glb.db_connection()
           ^^^
NameError: name 'glb' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:55:59] "[35m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/utilizador [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 78, in login
    return logins.authenticate_user()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/logins.py", line 14, in authenticate_user
    conn = glb.db_connection()
           ^^^
NameError: name 'glb' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:56:47] "[35m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:59:01] "POST /bdproj/register/patient HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/utilizador [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 78, in login
    return logins.authenticate_user()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/logins.py", line 14, in authenticate_user
    conn = glb.db_connection()
           ^^^
NameError: name 'glb' is not defined
INFO:werkzeug:127.0.0.1 - - [22/May/2024 20:59:05] "[35m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [22/May/2024 21:00:13] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 21:00:17] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/May/2024 21:08:14] "[33mPOST /register/doctor HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:31:38] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:31:51] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:33:44] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:35:15] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:35:28] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/utilizador [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 78, in login
    return logins.authenticate_user()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/logins.py", line 18, in authenticate_user
    valores = (data['mail'], data['password'])
                             ~~~~^^^^^^^^^^^^
KeyError: 'password'
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:35:48] "[35m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:37:24] "POST /bdproj/register/patient HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/utilizador [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 78, in login
    return logins.authenticate_user()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/logins.py", line 18, in authenticate_user
    valores = (data['mail'], data['password'])
                             ~~~~^^^^^^^^^^^^
KeyError: 'password'
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:37:27] "[35m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:39:52] "POST /bdproj/register/patient HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/utilizador [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 78, in login
    return logins.authenticate_user()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/logins.py", line 19, in authenticate_user
    valores = (data['mail'], data['password'])
                             ~~~~^^^^^^^^^^^^
KeyError: 'password'
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:39:56] "[35m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:55:02] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:55:07] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:58:34] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 01:58:38] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 02:11:24] "POST /bdproj/register/patient HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/utilizador [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 78, in login
    return logins.authenticate_user()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/logins.py", line 13, in authenticate_user
    print(get_jwt_identity())
          ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 02:11:27] "[35m[1mPOST /dbproj/utilizador HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 02:12:19] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 02:12:21] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 02:16:23] "POST /bdproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 02:16:26] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 02:58:11] "[33mGET /dbproj/report HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:werkzeug:127.0.0.1 - - [23/May/2024 03:00:43] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:werkzeug:127.0.0.1 - - [23/May/2024 03:19:50] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [23/May/2024 03:31:49] "[33mPOST /dbproj/appointment HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 03:33:58] "[33mPOST /dbproj/surgery HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [23/May/2024 03:35:40] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 03:35:52] "[33mPOST /dbproj/surgery HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 04:02:43] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 04:02:46] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 04:02:50] "GET /dbproj/report HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 04:03:27] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 400 -
ERROR:demo-api:Exception on /dbproj/appointments [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in get_appointments
    return appointments_and_surgeries.see_appt_pacient()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 102, in see_appt_pacient
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 04:06:17] "[35m[1mGET /dbproj/appointments HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 58, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 04:13:09] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:28:59] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:29:03] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:29:08] "GET /dbproj/report HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 99, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 107, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:29:13] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:40:39] "[31m[1mPOST /dbproj/register/doctor HTTP/1.1[0m" 400 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:43:39] "[31m[1mPOST /dbproj/register/doctor HTTP/1.1[0m" 400 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:45:06] "[31m[1mPOST /dbproj/register/doctor HTTP/1.1[0m" 400 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:45:20] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:45:55] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
ERROR:logger:Specialization does not exist
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:55:33] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:57:47] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [23/May/2024 18:58:09] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:01:29] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:10:38] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:11:44] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 400 -
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 107, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:13:06] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:21:39] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:27:41] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 108, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:27:53] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:29:19] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 108, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:29:22] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:32:07] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 108, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:32:14] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:36:25] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 108, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:36:29] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:53:02] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:53:24] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 108, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:53:40] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:58:27] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 108, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:58:43] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:59:38] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 110, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 19:59:43] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:03:19] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:05:46] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:05:58] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 110, in schedule_appointment
    token = get_jwt_identity()
            ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:06:18] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:13:32] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:13:40] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 108, in schedule_appointment
    if get_jwt() is None:
       ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:13:49] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:14:54] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:15:00] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 85, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 108, in schedule_appointment
    if get_jwt():
       ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:15:05] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:18:48] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:19:03] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:19:20] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 87, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 120, in schedule_appointment
    if claims['role_'] != 'patient':
       ~~~~~~^^^^^^^^^
KeyError: 'role_'
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:19:45] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:22:14] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:22:18] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:22:23] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:22:27] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:logger:POST /dbproj/appointment - error: null value in column "type_type_" of relation "appointment" violates not-null constraint
DETAIL:  Failing row contains (1, 2022-10-03 00:00:00, null, null, 1, null).

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 87, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 181, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:23:02] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:36:28] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [23/May/2024 20:36:32] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:42:46] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:42:51] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:43:02] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:43:05] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:logger:POST /dbproj/appointment - error: null value in column "type_type_" of relation "appointment" violates not-null constraint
DETAIL:  Failing row contains (1, 2022-10-03 00:00:00, null, null, 1, null).

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 181, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:43:21] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:53:34] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:53:38] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:53:43] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:53:56] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:58:56] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:59:04] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:59:12] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 18:59:33] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:02:45] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:03:14] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:03:17] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:03:19] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:03:33] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:09:36] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:09:40] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:09:44] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:10:24] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo', 'billing_bill_id': '54'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:11:11] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo', 'billing_bill_id': '54'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:15:14] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:21:41] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:21:46] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:21:50] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:22:07] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:28:29] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:28:46] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:28:55] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:29:20] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:30:14] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:30:20] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:30:23] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 19:30:38] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:04:17] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:04:22] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:05:10] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 422 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:05:29] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:05:41] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:06:00] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:07:18] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:07:22] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:07:26] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:07:44] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:21:40] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:21:48] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:21:53] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:22:11] "POST /dbproj/appointment HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 96, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 318, in schedule_surgery_new_hosp
    claims = get_jwt()
             ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:22:53] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:33:25] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:34:03] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:36:37] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:36:48] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:36:59] "[33mGET /dbproj/appointments?Authorization=bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU3OTQwOCwianRpIjoiNjRkZGZjOTYtMDViOS00ZTU3LWFiODgtN2Y2OGYwN2FiMDEwIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTc5NDA4LCJleHAiOjE3MTY1ODEyMDgsInJvbGUiOiJwYXRpZW50In0.uXBcUR0muGMswSJOVZTeR2nxZXeY8vmoYu9TzC0LnQ8 HTTP/1.1[0m" 404 -
ERROR:demo-api:Exception on /dbproj/appointments/2 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 92, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 193, in see_appt_patient
    claims = get_jwt()
             ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:37:50] "[35m[1mGET /dbproj/appointments/2?Authorization=bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU3OTQwOCwianRpIjoiNjRkZGZjOTYtMDViOS00ZTU3LWFiODgtN2Y2OGYwN2FiMDEwIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTc5NDA4LCJleHAiOjE3MTY1ODEyMDgsInJvbGUiOiJwYXRpZW50In0.uXBcUR0muGMswSJOVZTeR2nxZXeY8vmoYu9TzC0LnQ8 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:39:21] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:39:28] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:39:33] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/appointments/2 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 92, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 193, in see_appt_patient
    claims = get_jwt()
             ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:40:28] "[35m[1mGET /dbproj/appointments/2?Authorization=bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU3OTU3MywianRpIjoiMjM2MTU3NTItMGMzOC00OTViLThjNmQtMWM0ODc0MTg3ZjYwIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTc5NTczLCJleHAiOjE3MTY1ODEzNzMsInJvbGUiOiJwYXRpZW50In0.jWM0hIc4AVnbgl5rwEyYak4R6FGngPAu-JdO6jLDGJA HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:43:51] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:43:56] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:44:07] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:44:13] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:44:31] "POST /dbproj/appointment HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/appointments/2 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 92, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 193, in see_appt_patient
    id_do_gajo = get_jwt_identity()
                 ^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 63, in get_jwt_identity
    return get_jwt().get(config.identity_claim_key, None)
           ^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/utils.py", line 29, in get_jwt
    raise RuntimeError(
RuntimeError: You must call `@jwt_required()` or `verify_jwt_in_request()` before using this method
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:44:40] "[35m[1mGET /dbproj/appointments/2?Authorization=bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU3OTg1MywianRpIjoiNWVmODE3ZWItNjZjOS00ZWViLWFiYzEtMDZkOTQxMjYwZDc2IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTc5ODUzLCJleHAiOjE3MTY1ODE2NTMsInJvbGUiOiJwYXRpZW50In0.rXoQFj9WCFo4vpi64RrrVIc011H-qGxl8Vv_VgnOWzw HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:49:09] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:49:15] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:49:19] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:49:36] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:49:49] "[31m[1mGET /dbproj/appointments/2?Authorization=bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU3OTg1MywianRpIjoiNWVmODE3ZWItNjZjOS00ZWViLWFiYzEtMDZkOTQxMjYwZDc2IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTc5ODUzLCJleHAiOjE3MTY1ODE2NTMsInJvbGUiOiJwYXRpZW50In0.rXoQFj9WCFo4vpi64RrrVIc011H-qGxl8Vv_VgnOWzw HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:50:03] "[31m[1mGET /dbproj/appointments/2?Authorization=Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU3OTg1MywianRpIjoiNWVmODE3ZWItNjZjOS00ZWViLWFiYzEtMDZkOTQxMjYwZDc2IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTc5ODUzLCJleHAiOjE3MTY1ODE2NTMsInJvbGUiOiJwYXRpZW50In0.rXoQFj9WCFo4vpi64RrrVIc011H-qGxl8Vv_VgnOWzw HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:50:23] "[31m[1mGET /dbproj/appointments/2?Authorization=Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU4MDE1OSwianRpIjoiYzM0Y2QxYWQtNDQwMS00NDU3LWE2NGUtZTcxMTFmZjk2MTYzIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTgwMTU5LCJleHAiOjE3MTY1ODE5NTksInJvbGUiOiJwYXRpZW50In0.QTwYb_YCu6Tio9jlBw5u_UgUbwPdhxTYa5xn0w1A7kM HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:50:36] "[31m[1mGET /dbproj/appointments/2?Authorization=Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU4MDE1OSwianRpIjoiYzM0Y2QxYWQtNDQwMS00NDU3LWE2NGUtZTcxMTFmZjk2MTYzIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTgwMTU5LCJleHAiOjE3MTY1ODE5NTksInJvbGUiOiJwYXRpZW50In0.QTwYb_YCu6Tio9jlBw5u_UgUbwPdhxTYa5xn0w1A7kM HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:51:46] "[31m[1mGET /dbproj/appointments/2?Authorization=Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU4MDE1OSwianRpIjoiYzM0Y2QxYWQtNDQwMS00NDU3LWE2NGUtZTcxMTFmZjk2MTYzIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTgwMTU5LCJleHAiOjE3MTY1ODE5NTksInJvbGUiOiJwYXRpZW50In0.QTwYb_YCu6Tio9jlBw5u_UgUbwPdhxTYa5xn0w1A7kM HTTP/1.1[0m" 401 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:51:51] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-03', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:52:25] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:52:39] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:52:51] "[31m[1mGET /dbproj/appointments/2?Authorization=Bearer%20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTcxNjU4MDE1OSwianRpIjoiYzM0Y2QxYWQtNDQwMS00NDU3LWE2NGUtZTcxMTFmZjk2MTYzIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MiwibmJmIjoxNzE2NTgwMTU5LCJleHAiOjE3MTY1ODE5NTksInJvbGUiOiJwYXRpZW50In0.QTwYb_YCu6Tio9jlBw5u_UgUbwPdhxTYa5xn0w1A7kM HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:54:18] "[31m[1mGET /dbproj/appointments/2 HTTP/1.1[0m" 401 -
ERROR:demo-api:Exception on /dbproj/appointments/2 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 93, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 198, in see_appt_patient
    if claims['role_'] == 'assistant' or claims['role_'] == 'patient':
       ~~~~~~^^^^^^^^^
KeyError: 'role_'
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:54:48] "[35m[1mGET /dbproj/appointments/2 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:55:55] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:56:00] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:56:07] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:56:31] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 20:56:40] "GET /dbproj/appointments/2 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:02:43] "[31m[1mGET /dbproj/register/assistant HTTP/1.1[0m" 405 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:03:02] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:03:23] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:05:28] "[31m[1mPOST /dbproj/surgery HTTP/1.1[0m" 401 -
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 325, in schedule_surgery_new_hosp
    if claims['role_'] != 'assistant':
       ~~~~~~^^^^^^^^^
KeyError: 'role_'
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:05:55] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:09:18] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:09:32] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:09:41] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:09:57] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: 'nurses'
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 396, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:10:34] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:POST /nurse
ERROR:logger:Category does not exist
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:15:33] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:16:28] "POST /dbproj/register/nurse HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: 'nurses'
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 396, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:17:05] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 396, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:30:26] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:31:49] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:31:56] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:32:07] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:32:28] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:32:46] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: relation "enrolment_appointment" does not exist
LINE 7:                 from enrolment_appointment
                             ^

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:34:08] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: relation "enrolment_appointment" does not exist
LINE 7:                 from enrolment_appointment
                             ^

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:37:28] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:38:44] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:38:52] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:39:03] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:39:08] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:39:54] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: column enrolment_appoitment.appointment_id_appointment_id does not exist
LINE 8:                 join appointment on enrolment_appoitment.app...
                                            ^
HINT:  Perhaps you meant to reference the column "enrolment_appoitment.appointment_appointment_id".

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:41:00] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:47:51] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:47:58] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:48:04] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:48:10] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:48:21] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: relation "enrolment_appointment" does not exist
LINE 7:                 from enrolment_appointment
                             ^

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:50:02] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:51:28] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:52:17] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:52:28] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:54:19] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:54:27] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:54:36] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:55:04] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: column enrolment_appointment.appointment_id_appointment_id does not exist
LINE 8:                 join appointment on enrolment_appointment.ap...
                                            ^
HINT:  Perhaps you meant to reference the column "enrolment_appointment.appointment_appointment_id".

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:55:15] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:POST /assistant
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:59:09] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:59:22] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:59:28] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:59:32] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:59:44] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 21:59:49] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: column surgery.surgery_id does not exist
LINE 8: ...surgery on enrolment_surgery.surgery_id_surgery = surgery.su...
                                                             ^

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:00:08] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:00:57] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:01:07] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:01:13] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:01:19] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:01:30] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: column enrolment_surgery.surgery_surgery_id does not exist
LINE 8:                 join surgery on enrolment_surgery.surgery_su...
                                        ^

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:01:43] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:07:03] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:07:09] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:07:15] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:07:23] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:08:05] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:09:27] "POST /dbproj/register/doctor HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: 'doctor_id'
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:09:35] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: 'type_'
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:11:54] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: date/time field value out of range: "2022-22-10"
LINE 3:                     VALUES (10, 'dibertifeiw', '2022-22-10',...
                                                       ^
HINT:  Perhaps you need a different "datestyle" setting.

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:12:29] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: 'duration'
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:13:06] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 1, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:15:25] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:18:02] "[31m[1mGET /dbproj/report HTTP/1.1[0m" 401 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:21:15] "GET /dbproj/report?= HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 2, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:26:30] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 22:26:38] "GET /dbproj/report?= HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:32:49] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:32:56] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:33:03] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:33:26] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:33:44] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:34:24] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 2, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:34:42] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:39:35] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:39:42] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:39:49] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:39:56] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 2, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:40:22] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:42:34] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: ('hospitalization_id', 0)
ERROR:demo-api:Exception on /dbproj/prescription [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 108, in add_prescription
    return prescriptions.add_prescription()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 166, in add_prescription
    'results': { 'prescription_id': prescription_id }
                                    ^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescription_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:43:38] "[35m[1mPOST /dbproj/prescription HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:49:00] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:49:10] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:49:19] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:49:26] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:49:31] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: column "validity" of relation "prescription" does not exist
LINE 2: ...on_hospitalization_id, appointment_appointment_id, validity)
                                                              ^

ERROR:demo-api:Exception on /dbproj/prescription [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 108, in add_prescription
    return prescriptions.add_prescription()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 156, in add_prescription
    'results': { 'prescription_id': prescription_id }
                                    ^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescription_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:49:56] "[35m[1mPOST /dbproj/prescription HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:50:25] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:50:52] "POST /dbproj/appointment HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: column "validity" of relation "prescription" does not exist
LINE 2: ...on_hospitalization_id, appointment_appointment_id, validity)
                                                              ^

ERROR:demo-api:Exception on /dbproj/prescription [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 108, in add_prescription
    return prescriptions.add_prescription()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 156, in add_prescription
    'results': { 'prescription_id': prescription_id }
                                    ^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescription_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:51:03] "[35m[1mPOST /dbproj/prescription HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:52:54] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:53:00] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:53:14] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:53:19] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:53:25] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:53:59] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:54:15] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:54:51] "[31m[1mPOST /dbproj/prescription HTTP/1.1[0m" 422 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "prescription" violates foreign key constraint "prescription_fk1"
DETAIL:  Key (hospitalization_hospitalization_id)=(0) is not present in table "hospitalization".

ERROR:demo-api:Exception on /dbproj/prescription [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 108, in add_prescription
    return prescriptions.add_prescription()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 156, in add_prescription
    'results': { 'prescription_id': prescription_id }
                                    ^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescription_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [24/May/2024 23:55:11] "[35m[1mPOST /dbproj/prescription HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:03:32] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:03:46] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:04:05] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:04:14] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:04:28] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:05:05] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:05:26] "POST /dbproj/appointment HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "NULL"
LINE 3:             VALUES ('NULL', 1, '2014-01-02')
                            ^

ERROR:demo-api:Exception on /dbproj/prescription [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 108, in add_prescription
    return prescriptions.add_prescription()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 156, in add_prescription
    'results': { 'prescription_id': prescription_id }
                                    ^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescription_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:05:54] "[35m[1mPOST /dbproj/prescription HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:07:25] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:07:32] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:07:39] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:07:45] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:07:51] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:08:16] "POST /dbproj/appointment HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: 'medication_name'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:08:30] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:10:48] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:10:57] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:11:05] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:11:16] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:11:30] "POST /dbproj/appointment HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: 'medication_name'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:12:54] "POST /dbproj/prescription HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: 'medication_name'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:15:34] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:34:00] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:34:14] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:34:26] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:34:41] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:35:45] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:36:14] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:36:51] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:37:42] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:38:16] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:40:36] "[33mGET /dbproj/prescription/4 HTTP/1.1[0m" 404 -
INFO:logger:GET /dbproj/prescriptions
ERROR:logger:GET /dbproj/prescriptions - error: 'int' object does not support indexing
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 76, in get_prescriptions
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
                                                                                                                                    ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescriptions' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:40:59] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 77, in get_prescriptions
    return flask.jsonify(response)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/__init__.py", line 342, in jsonify
    return current_app.json.response(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 309, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 230, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 122, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type set is not JSON serializable
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:45:25] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 77, in get_prescriptions
    return flask.jsonify(response)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/__init__.py", line 342, in jsonify
    return current_app.json.response(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 309, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 230, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 122, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type set is not JSON serializable
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:45:34] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "prescription" violates foreign key constraint "prescription_fk2"
DETAIL:  Key (appointment_appointment_id)=(1) is not present in table "appointment".

ERROR:demo-api:Exception on /dbproj/prescription [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 108, in add_prescription
    return prescriptions.add_prescription()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 150, in add_prescription
    'results': { 'prescription_id': prescription_id }
                                    ^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescription_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:46:45] "[35m[1mPOST /dbproj/prescription HTTP/1.1[0m" 500 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:46:52] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:46:58] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:47:05] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:47:11] "[31m[1mPOST /dbproj/surgery HTTP/1.1[0m" 401 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:47:25] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:47:57] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 77, in get_prescriptions
    return flask.jsonify(response)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/__init__.py", line 342, in jsonify
    return current_app.json.response(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 309, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 230, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 122, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type set is not JSON serializable
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:48:15] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "prescription" violates foreign key constraint "prescription_fk2"
DETAIL:  Key (appointment_appointment_id)=(1) is not present in table "appointment".

ERROR:demo-api:Exception on /dbproj/prescription [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 108, in add_prescription
    return prescriptions.add_prescription()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 150, in add_prescription
    'results': { 'prescription_id': prescription_id }
                                    ^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescription_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:48:22] "[35m[1mPOST /dbproj/prescription HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:48:41] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "prescription" violates foreign key constraint "prescription_fk2"
DETAIL:  Key (appointment_appointment_id)=(1) is not present in table "appointment".

ERROR:demo-api:Exception on /dbproj/prescription [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 108, in add_prescription
    return prescriptions.add_prescription()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 150, in add_prescription
    'results': { 'prescription_id': prescription_id }
                                    ^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'prescription_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:49:09] "[35m[1mPOST /dbproj/prescription HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:49:44] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:49:57] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:GET /dbproj/prescriptions
ERROR:logger:GET /dbproj/prescriptions - error: column "frequecy" does not exist
LINE 2: ...ECT medication_medication_id, medication_ammount, frequecy F...
                                                             ^
HINT:  Perhaps you meant to reference the column "quantity.frequency".

ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 75, in get_prescriptions
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 75, in <setcomp>
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
                                                            ~~~~~~~~~~~~~~~~^^^
IndexError: tuple index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:50:03] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:logger:GET /dbproj/prescriptions - error: operator does not exist: bigint = record
LINE 4: ...      WHERE quantity.prescription_id_prescription = (4, NULL...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 75, in get_prescriptions
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 75, in <setcomp>
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
                                                            ~~~~~~~~~~~~~~~~^^^
IndexError: tuple index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:50:59] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:logger:GET /dbproj/prescriptions - error: operator does not exist: bigint = record
LINE 4: ...      WHERE quantity.prescription_id_prescription = (4, NULL...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 75, in get_prescriptions
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 75, in <setcomp>
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
                                                            ~~~~~~~~~~~~~~~~^^^
IndexError: tuple index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:54:54] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:logger:GET /dbproj/prescriptions - error: operator does not exist: bigint = record
LINE 4: ...      WHERE quantity.prescription_id_prescription = (4, NULL...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 77, in get_prescriptions
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 77, in <setcomp>
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
                                                            ~~~~~~~~~~~~~~~~^^^
IndexError: tuple index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:55:38] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 77, in get_prescriptions
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 77, in <setcomp>
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
                                                            ~~~~~~~~~~~~~~~~^^^
IndexError: tuple index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 00:57:40] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 81, in get_prescriptions
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 81, in <setcomp>
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
                                                            ~~~~~~~~~~~~~~~~^^^
IndexError: tuple index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:04:59] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 83, in get_prescriptions
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 83, in <setcomp>
    'results': { [{'id' : prescriptions[i][0], 'validity' : prescriptions[i][4], 'posology' : { 'dose' : -1 } }] for i in range(len(prescriptions)) }
                                                            ~~~~~~~~~~~~~~~~^^^
IndexError: tuple index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:06:43] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:09:01] "GET /dbproj/prescriptions/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 84, in get_prescriptions
    'results': (prescriptions, prescription_id)
                               ^^^^^^^^^^^^^^^
NameError: name 'prescription_id' is not defined
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:13:07] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:14:21] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:14:46] "GET /dbproj/prescriptions/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:38:54] "[31m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:40:23] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/3 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 78, in get_prescriptions
    if prescriptions[2] is not None:
       ~~~~~~~~~~~~~^^^
IndexError: list index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:40:59] "[35m[1mGET /dbproj/prescriptions/3 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/3 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 78, in get_prescriptions
    if prescriptions[2] is not None:
       ~~~~~~~~~~~~~^^^
IndexError: list index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:41:57] "[35m[1mGET /dbproj/prescriptions/3 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/3 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 78, in get_prescriptions
    if prescriptions[2] is not None:
       ~~~~~~~~~~~~~^^^
IndexError: list index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:45:29] "[35m[1mGET /dbproj/prescriptions/3 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/3 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 79, in get_prescriptions
    if prescriptions[2] is not None:
       ~~~~~~~~~~~~~^^^
IndexError: list index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:46:21] "[35m[1mGET /dbproj/prescriptions/3 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/3 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 80, in get_prescriptions
    if prescriptions[2] is not None:
       ~~~~~~~~~~~~~^^^
IndexError: list index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:46:58] "[35m[1mGET /dbproj/prescriptions/3 HTTP/1.1[0m" 500 -
INFO:logger:GET /dbproj/prescriptions
ERROR:demo-api:Exception on /dbproj/prescriptions/4 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 113, in get_prescriptions
    return prescriptions.get_prescriptions(patient_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/prescriptions.py", line 80, in get_prescriptions
    if prescriptions[2] is not None:
       ~~~~~~~~~~~~~^^^
IndexError: list index out of range
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:47:26] "[35m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:51:39] "GET /dbproj/prescriptions/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /dbproj/prescriptions
INFO:werkzeug:127.0.0.1 - - [25/May/2024 01:54:28] "GET /dbproj/prescriptions/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:25:57] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-10-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:26:36] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:27:34] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:32:53] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:33:47] "[31m[1mGET /dbproj/bills/1 HTTP/1.1[0m" 405 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:34:08] "[31m[1mGET /dbproj/bills/1 HTTP/1.1[0m" 405 -
ERROR:demo-api:Exception on /dbproj/bills/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() got an unexpected keyword argument 'bill_id'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:35:00] "[35m[1mPOST /dbproj/bills/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/bills/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() got an unexpected keyword argument 'bill_id'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:38:50] "[35m[1mPOST /dbproj/bills/1 HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/bills/2 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() got an unexpected keyword argument 'bill_id'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:39:05] "[35m[1mPOST /dbproj/bills/2 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/bills/2 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() got an unexpected keyword argument 'bill_id'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:40:34] "[35m[1mPOST /dbproj/bills/2 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:41:35] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:45:19] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:45:42] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:47:28] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:48:35] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:52:38] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:54:12] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:55:35] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:56:45] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:56:59] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 02:58:27] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:05:39] "[31m[1mPOST /dbproj/bills/2 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:05:45] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:06:10] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:07:01] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:07:33] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:08:01] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:10:01] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:10:59] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:12:27] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [25/May/2024 03:13:25] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:18:18] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:19:27] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 401 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:20:01] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:20:40] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:26:31] "[31m[1mPOST /dbproj/bills/4 HTTP/1.1[0m" 400 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:27:08] "POST /dbproj/bills/1 HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:40:00] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:55:15] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:56:00] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:56:27] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 401 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:56:50] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:57:16] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:57:20] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:57:23] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:57:25] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:57:28] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:57:53] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:58:23] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:58:32] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:58:44] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:58:54] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 18:59:05] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 8, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:03:04] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:04:35] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:04:41] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:05:32] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-7-02', 'type_type_': 'consulta de rabo'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 184, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:05:37] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:09:21] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "hospitalization" violates foreign key constraint "hospitalization_fk2"
DETAIL:  Key (nurse_employee_utilizador_id)=(4) is not present in table "nurse".

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:09:42] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "hospitalization" violates foreign key constraint "hospitalization_fk3"
DETAIL:  Key (patient_utilizador_id)=(3) is not present in table "patient".

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 397, in schedule_surgery_new_hosp
    'hospitalization_id': hospitalization_id,
                          ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'hospitalization_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:11:03] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 1, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:11:24] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 2, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:11:29] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 3, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:11:36] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 4, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:11:40] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 5, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:11:49] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 6, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:11:53] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 7, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:11:57] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 8, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:12:01] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 9, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:12:05] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 10, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:12:08] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "madafoka"
LINE 3:                         VALUES ('madafoka', 11, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:12:12] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "junior"
LINE 3:                         VALUES ('junior', 12, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:15:26] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "junior"
LINE 3:                         VALUES ('junior', 13, 4)
                                        ^

INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:27:59] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: 'NoneType' object is not subscriptable
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:28:34] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: 'NoneType' object is not subscriptable
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:31:42] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: 'NoneType' object is not subscriptable
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:34:12] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: not all arguments converted during string formatting
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:34:52] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: 'NoneType' object is not subscriptable
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_surgery' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:37:51] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:39:40] "[31m[1mPOST /dbproj/surgery HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:39:49] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:40:02] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "enrolment_surgery" violates foreign key constraint "enrolment_surgery_fk3"
DETAIL:  Key (nurse_employee_utilizador_id)=(4) is not present in table "nurse".

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_surgery' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:43:13] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:43:47] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:44:42] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:57:27] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:57:52] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:58:14] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 19:59:16] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:00:04] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:00:19] "[31m[1mPOST /dbproj/prescription HTTP/1.1[0m" 400 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 21, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 37, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:43:53] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 21, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 37, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:45:42] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 23, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 37, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:46:19] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 23, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 37, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:46:50] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 23, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 37, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:48:10] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 23, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 37, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:48:39] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 23, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 37, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:49:00] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 23, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 37, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:49:17] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 23, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 38, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:50:13] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 23, in add_patient
    missing = glb.check_missingfirelds(data, ['birthday', 'id_user_cc', 'username', 'nationality', 'password', 'email'])
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/funÃ§Ãµes_globais.py", line 39, in check_missingfirelds
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:50:51] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
ERROR:demo-api:Exception on /dbproj/register/patient [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/demo-api.py", line 66, in add_patient_endpoint
    return registers.add_patient()
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/registers.py", line 25, in add_patient
    if missing.empty() == False:
AttributeError: 'list' object has no attribute 'empty'
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:51:09] "[35m[1mPOST /dbproj/register/patient HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:51:46] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:53:55] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:53:58] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /nurse
ERROR:logger:Missing fields: nationality
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:54:03] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:54:08] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [25/May/2024 20:55:02] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:33:09] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:33:41] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:34:03] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:34:27] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:34:57] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologia'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:36:48] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologiajjd'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:37:06] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologiajjd'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 202, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:41:09] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologia'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:41:21] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologia'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:41:37] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologia'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:41:53] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologia'}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:42:07] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologia'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 202, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:42:16] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:44:28] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:52:21] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-5-02', 'type_type_': 'cardiologia'}
ERROR:demo-api:Exception on /dbproj/appointment [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 88, in add_appointment
    return appointments_and_surgeries.schedule_appointment()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 204, in schedule_appointment
    'results': f'appointment_id: {appt_id}'
                                  ^^^^^^^
UnboundLocalError: cannot access local variable 'appt_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:52:49] "[35m[1mPOST /dbproj/appointment HTTP/1.1[0m" 500 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
ERROR:logger:POST /dbproj/appointment - error: column "appointment_id_appointment_id" of relation "enrolment_appointment" does not exist
LINE 2: ... insert into enrolment_appointment (role_role_id, appointmen...
                                                             ^

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:55:30] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:55:47] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:56:18] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
ERROR:logger:POST /dbproj/appointment - error: column "appointment_id_appointment_id" of relation "enrolment_appointment" does not exist
LINE 2: ... insert into enrolment_appointment (role_role_id, appointmen...
                                                             ^

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [25/May/2024 23:59:03] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
ERROR:logger:POST /dbproj/appointment - error: column "appointment_id_appointment_id" of relation "enrolment_appointment" does not exist
LINE 2: ... insert into enrolment_appointment (role_role_id, appointmen...
                                                             ^

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:01:13] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
ERROR:logger:POST /dbproj/appointment - error: invalid input syntax for type bigint: "backup"
LINE 3:                             values ('backup', 10, 2)
                                            ^

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:01:31] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:02:43] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:02:55] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2022-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backu3333p'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:03:15] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backupwwwww'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:03:36] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:03:54] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:05:25] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:05:37] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:05:53] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:06:10] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:06:21] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:06:32] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:06:47] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:07:03] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:07:34] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:07:44] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:08:00] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 7, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:08:16] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:08:26] "[31m[1mGET /dbproj/appointments/4 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:08:36] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:09:26] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:Missing fields: doctor
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:09:57] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "hospitalization" violates foreign key constraint "hospitalization_fk2"
DETAIL:  Key (nurse_employee_utilizador_id)=(4) is not present in table "nurse".

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_surgery' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:10:14] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "hospitalization" violates foreign key constraint "hospitalization_fk3"
DETAIL:  Key (patient_utilizador_id)=(3) is not present in table "patient".

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_surgery' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:10:37] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:11:11] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:11:37] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:15:00] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:15:45] "[31m[1mPOST /dbproj/prescription HTTP/1.1[0m" 401 -
ERROR:logger:POST /dbproj/surgery - error: cannot access local variable 'response' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:16:19] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:21:16] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:21:41] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:21:57] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:22:15] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:23:05] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:23:21] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:23:36] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:23:49] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:24:12] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:28:16] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:29:48] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 7, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:30:10] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:30:27] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:30:47] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:31:11] "[31m[1mGET /dbproj/appointments/4 HTTP/1.1[0m" 422 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:31:25] "[31m[1mGET /dbproj/appointments/4 HTTP/1.1[0m" 422 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:31:55] "GET /dbproj/appointments/4 HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 7, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 2, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:32:21] "POST /dbproj/appointment HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: cannot access local variable 'response' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:36:50] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:39:18] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:52:28] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:52:51] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: null value in column "medication_medication_id" of relation "prescription" violates not-null constraint
DETAIL:  Failing row contains (1, null, 1, 2014-01-02, null).

INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:53:13] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:57:13] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:57:30] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:57:49] "[31m[1mPOST /dbproj/prescription HTTP/1.1[0m" 422 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "prescription" violates foreign key constraint "prescription_fk2"
DETAIL:  Key (appointment_appointment_id)=(1) is not present in table "appointment".

INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:58:28] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:59:07] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 00:59:23] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:00:10] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:00:27] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:00:52] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:01:09] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:02:31] "[31m[1mPOST /dbproj/prescription HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:02:53] "[31m[1mPOST /dbproj/surgery HTTP/1.1[0m" 401 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:03:29] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:03:50] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:04:23] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:05:46] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:06:10] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:08:51] "[31m[1mPOST /dbproj/prescription HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:09:03] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:12:57] "[31m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:13:46] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:14:04] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:14:34] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:14:54] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:15:15] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:15:54] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:Missing fields: type_
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:16:13] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 351, in schedule_surgery_existing_hosp
    'surgery_id': surgery_id,
                  ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:18:47] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 355, in schedule_surgery_existing_hosp
    'surgery_id': surgery_id,
                  ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:21:12] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 357, in schedule_surgery_existing_hosp
    'surgery_id': surgery_id,
                  ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:23:46] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 358, in schedule_surgery_existing_hosp
    'surgery_id': surgery_id,
                  ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:24:55] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:29:43] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:29:59] "POST /dbproj/register/nurse HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 358, in schedule_surgery_existing_hosp
    'surgery_id': surgery_id,
                  ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:30:19] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:33:10] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:33:29] "POST /dbproj/register/doctor HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: 'type_'
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 358, in schedule_surgery_existing_hosp
    'surgery_id': surgery_id,
                  ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:33:51] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "surgery" violates foreign key constraint "surgery_fk1"
DETAIL:  Key (doctor_employee_utilizador_id)=(7) is not present in table "doctor".

ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 358, in schedule_surgery_existing_hosp
    'surgery_id': surgery_id,
                  ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:35:18] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
ERROR:logger:POST /dbproj/surgery - error: column "surgery_id_surgery" of relation "hospitalization" does not exist
LINE 3:                     SET surgery_id_surgery = 3
                                ^

ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 362, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:35:44] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: invalid input syntax for type bigint: "backup"
LINE 3:                         VALUES ('backup', 4, 7)
                                        ^

ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 356, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:37:30] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 365, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:39:06] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 362, in schedule_surgery_existing_hosp
    'surgery_id': surgery_id,
                  ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'surgery_id' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:43:56] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:45:57] "[31m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:46:12] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:46:50] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:47:08] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:47:21] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:48:33] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:48:46] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:48:57] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:49:19] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:49:41] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "surgery" violates foreign key constraint "surgery_fk1"
DETAIL:  Key (doctor_employee_utilizador_id)=(9) is not present in table "doctor".

INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:50:02] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "surgery" violates foreign key constraint "surgery_fk2"
DETAIL:  Key (hospitalization_hospitalization_id)=(1) is not present in table "hospitalization".

INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:50:59] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:51:41] "[31m[1mPOST /dbproj/surgery HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:52:00] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:52:12] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:52:25] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:52:37] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:52:48] "POST /dbproj/register/doctor HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 365, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:53:08] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:59:36] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 01:59:59] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:00:12] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:01:42] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:02:53] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:03:14] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:03:30] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:03:44] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:03:59] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:04:11] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:04:23] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:04:34] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:04:45] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:05:11] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:05:23] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'appointments_and_surgeries' has no attribute 'schedule_surgery_new_hosp'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:07:31] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'appointments_and_surgeries' has no attribute 'schedule_surgery_new_hosp'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:09:34] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'appointments_and_surgeries' has no attribute 'schedule_surgery_new_hosp'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:11:14] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:15:34] "[31m[1mPOST /dbproj/prescription HTTP/1.1[0m" 401 -
ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 98, in add_surgery
    return appointments_and_surgeries.schedule_surgery_new_hosp()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'appointments_and_surgeries' has no attribute 'schedule_surgery_new_hosp'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:15:49] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:17:25] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "surgery" violates foreign key constraint "surgery_fk2"
DETAIL:  Key (hospitalization_hospitalization_id)=(5) is not present in table "hospitalization".

INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:18:33] "POST /dbproj/surgery/5 HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 366, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:19:13] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:29:04] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:werkzeug:127.0.0.1 - - [26/May/2024 02:29:22] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:23:15] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:23:38] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:24:09] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:24:29] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:24:39] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:25:42] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:26:02] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:27:27] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:27:54] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:29:01] "[31m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 401 -
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 365, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:29:14] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:32:04] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:32:31] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 365, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:32:51] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:logger:POST /dbproj/surgery - error: date/time field value out of range: "2024-13-12"
LINE 9: ...lizador_id = 7 AND appointment.appointment_date = '2024-13-1...
                                                             ^
HINT:  Perhaps you need a different "datestyle" setting.

INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:35:10] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 368, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:35:28] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/surgery/1 [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 103, in schedule_surgery_existing_hosp
    return appointments_and_surgeries.schedule_surgery_existing_hosp(hospitalization_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/appointments_and_surgeries.py", line 369, in schedule_surgery_existing_hosp
    'type_': data['type_'],
             ~~~~^^^^^^^^^
KeyError: 'type_'
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:36:39] "[35m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:39:11] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:41:55] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:42:14] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:42:26] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: new row for relation "hospitalization" violates check constraint "constraint_6"
DETAIL:  Failing row contains (3, 10, dibertifeiw, 2024-10-14, 2024-10-12, 3, 6, 1).

ERROR:demo-api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1823, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1842, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2134, in make_response
    raise TypeError(
TypeError: The view function for 'add_surgery' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:42:38] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:42:52] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:43:22] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:43:44] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:48:59] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:49:46] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:50:38] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:51:49] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
ERROR:logger:POST /dbproj/appointment - error: current transaction is aborted, commands ignored until end of transaction block

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 1, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:52:10] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:58:46] "[31m[1mGET /dbproj/appointments/4 HTTP/1.1[0m" 401 -
INFO:logger:Received data: {'doctor_id': 1, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
ERROR:logger:POST /dbproj/appointment - error: insert or update on table "appointment" violates foreign key constraint "appointment_fk2"
DETAIL:  Key (doctor_employee_utilizador_id)=(1) is not present in table "doctor".

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 1, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:59:01] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
ERROR:logger:POST /dbproj/appointment - error: insert or update on table "enrolment_appointment" violates foreign key constraint "enrolment_appointment_fk3"
DETAIL:  Key (nurse_employee_utilizador_id)=(3) is not present in table "nurse".

ERROR:logger:POST /dbproj/appointment - data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:59:30] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 3, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 6, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [27/May/2024 16:59:45] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:00:11] "GET /dbproj/appointments/1 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:23:22] "[31m[1mPOST /dbproj/surgery/604 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:23:36] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:23:56] "POST /dbproj/surgery/604 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:24:10] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:24:37] "POST /dbproj/surgery/604 HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "surgery" violates foreign key constraint "surgery_fk2"
DETAIL:  Key (hospitalization_hospitalization_id)=(604) is not present in table "hospitalization".

INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:24:52] "POST /dbproj/surgery/604 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:26:26] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:26:42] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:26:59] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:27:11] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:33:19] "[31m[1mPOST /dbproj/surgery HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:33:47] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:34:14] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:34:27] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:34:48] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:35:18] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:35:40] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:36:00] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:36:15] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:38:40] "POST /dbproj/surgery/4 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:41:12] "POST /dbproj/surgery/2 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:41:49] "POST /dbproj/surgery/2 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:42:02] "POST /dbproj/surgery/2 HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "surgery" violates foreign key constraint "surgery_fk1"
DETAIL:  Key (doctor_employee_utilizador_id)=(4) is not present in table "doctor".

INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:42:12] "POST /dbproj/surgery/2 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:42:37] "POST /dbproj/surgery/2 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 17:53:51] "[31m[1mGET /dbproj/top3 HTTP/1.1[0m" 401 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [27/May/2024 18:03:36] "[31m[1mPOST /dbproj/bills/1 HTTP/1.1[0m" 401 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [27/May/2024 22:27:57] "[31m[1mGET /dbproj/report HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [27/May/2024 22:28:21] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/report [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 130, in report
    return hospital_stats.report()
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'hospital_stats' has no attribute 'report'
INFO:werkzeug:127.0.0.1 - - [27/May/2024 22:28:51] "[35m[1mGET /dbproj/report HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/report [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 130, in report
    return hospital_stats.report()
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'hospital_stats' has no attribute 'report'
INFO:werkzeug:127.0.0.1 - - [27/May/2024 22:32:02] "[35m[1mGET /dbproj/report HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/report [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 130, in report
    return hospital_stats.report()
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'hospital_stats' has no attribute 'report'
INFO:werkzeug:127.0.0.1 - - [27/May/2024 22:32:31] "[35m[1mGET /dbproj/report HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:07:16] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:08:47] "[31m[1mGET /dbproj/report HTTP/1.1[0m" 401 -
ERROR:demo-api:Exception on /dbproj/report [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 130, in report
    return hospital_stats.report()
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'hospital_stats' has no attribute 'report'
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:09:34] "[35m[1mGET /dbproj/report HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:11:13] "[31m[1mGET /dbproj/report HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:11:25] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
ERROR:demo-api:Exception on /dbproj/report [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 130, in report
    return hospital_stats.monthly_report()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/hospital_stats.py", line 190, in monthly_report
    return flask.jsonify(response)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/__init__.py", line 342, in jsonify
    return current_app.json.response(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 309, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 230, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/json/provider.py", line 122, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type set is not JSON serializable
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:12:04] "[35m[1mGET /dbproj/report HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:14:14] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:16:15] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:18:54] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:20:48] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:36:28] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:38:56] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
ERROR:demo-api:Exception on /dbproj/report [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/demo-api.py", line 130, in report
    return hospital_stats.monthly_report()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/Documents/GitHub/BD-Project/hospital_stats.py", line 182, in monthly_report
    'results': [{'month' : month, 'doctor_name': name, 'surgery_count': surgery_count} for month, name, surgery_count in zip(months, names, surgery_count)]
                                                                                                                             ^^^^^^
NameError: name 'months' is not defined
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:39:29] "[35m[1mGET /dbproj/report HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:41:29] "[31m[1mGET /dbproj/report HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:41:44] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:42:58] "GET /dbproj/report HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:44:07] "[33mGET /dbproj/daily/2024-09-11 HTTP/1.1[0m" 404 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:46:07] "[31m[1mGET /dbproj/daily/2024-09-11 HTTP/1.1[0m" 401 -
ERROR:demo-api:Exception on /dbproj/daily/2024-09-11 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() got an unexpected keyword argument 'date_str'
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:46:54] "[35m[1mGET /dbproj/daily/2024-09-11 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:50:22] "[31m[1mGET /dbproj/daily/2024-09-11 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:51:14] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:51:48] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:demo-api:Exception on /dbproj/daily/2024-09-11 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() got an unexpected keyword argument 'date_str'
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:52:23] "[35m[1mGET /dbproj/daily/2024-09-11 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /daily/2024-09-11
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:53:50] "GET /dbproj/daily/2024-09-11 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /daily/2024-09-11
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:55:52] "GET /dbproj/daily/2024-09-11 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /daily/2024-09-11
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:56:17] "GET /dbproj/daily/2024-09-11 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /daily/2024-09-11
INFO:logger:Daily report listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 00:57:27] "GET /dbproj/daily/2024-09-11 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:22:15] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:22:51] "[31m[1mGET /dbproj/top3 HTTP/1.1[0m" 401 -
ERROR:demo-api:Exception on /dbproj/top3 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() missing 1 required positional argument: 'date_str'
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:23:06] "[35m[1mGET /dbproj/top3 HTTP/1.1[0m" 500 -
INFO:logger:GET /daily/2024-09-11
INFO:logger:Daily report listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:23:26] "GET /dbproj/daily/2024-09-11 HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:24:51] "[31m[1mGET /dbproj/report?= HTTP/1.1[0m" 401 -
INFO:logger:GET /report
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:24:59] "[31m[1mGET /dbproj/report HTTP/1.1[0m" 401 -
INFO:logger:GET /report
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:25:10] "[31m[1mGET /dbproj/report HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:26:22] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:27:36] "GET /dbproj/report HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:demo-api:Exception on /dbproj/top3 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() missing 1 required positional argument: 'date_str'
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:30:44] "[35m[1mGET /dbproj/top3 HTTP/1.1[0m" 500 -
ERROR:demo-api:Exception on /dbproj/top3 [GET]
Traceback (most recent call last):
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/micascastela/anaconda3/lib/python3.11/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: daily_stats() missing 1 required positional argument: 'date_str'
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:30:56] "[35m[1mGET /dbproj/top3 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:31:54] "[31m[1mGET /dbproj/top3 HTTP/1.1[0m" 401 -
INFO:logger:GET /daily/2024-09-11
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:32:13] "[31m[1mGET /dbproj/daily/2024-09-11 HTTP/1.1[0m" 401 -
INFO:logger:GET /daily/2024-09-11
INFO:logger:Daily report listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:32:19] "GET /dbproj/daily/2024-09-11 HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:32:33] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:33:55] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:34:06] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:51:36] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:52:27] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:53:54] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:57:37] "[31m[1mGET /dbproj/top3 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:57:46] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:58:00] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:58:30] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:59:25] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 19:59:59] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:00:42] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:02:03] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:04:51] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:05:25] "POST /dbproj/bills/8 HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:05:49] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:10:20] "POST /dbproj/bills/8 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:14:02] "POST /dbproj/bills/1 HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:14:10] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:25:55] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:26:07] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:26:12] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:26:16] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:26:30] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 2, 'date': '2021-6-02', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:27:06] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:27:25] "POST /dbproj/bills/1 HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:27:31] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 2, 'date': '2021-6-06', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:28:06] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:28:21] "POST /dbproj/bills/2 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:28:27] "[31m[1mGET /dbproj/top3 HTTP/1.1[0m" 401 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:28:47] "[31m[1mGET /dbproj/top3 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:29:06] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /daily/2024-09-11
INFO:logger:Daily report listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:29:24] "GET /dbproj/daily/2024-09-11 HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:29:35] "[31m[1mGET /dbproj/top3 HTTP/1.1[0m" 401 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:29:41] "GET /dbproj/top3 HTTP/1.1" 200 -
ERROR:logger:Missing fields: doctor
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:30:41] "POST /dbproj/surgery HTTP/1.1" 200 -
ERROR:logger:Missing fields: doctor
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:31:16] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:32:03] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:32:19] "POST /dbproj/bills/3 HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:32:33] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:34:56] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:35:04] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:Received data: {'doctor_id': 2, 'date': '2021-6-10', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 3, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:35:38] "POST /dbproj/appointment HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:35:59] "POST /dbproj/bills/4 HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:36:04] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:werkzeug:127.0.0.1 - - [28/May/2024 20:38:14] "POST /dbproj/bills/4 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:10:28] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:10:37] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:10:42] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:10:46] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /patient
INFO:logger:Patient registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:26:44] "POST /dbproj/register/patient HTTP/1.1" 200 -
INFO:logger:POST /doctor
INFO:logger:Doctor registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:26:49] "POST /dbproj/register/doctor HTTP/1.1" 200 -
INFO:logger:POST /assistant
INFO:logger:Assistant registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:26:51] "POST /dbproj/register/assistant HTTP/1.1" 200 -
INFO:logger:POST /nurse
INFO:logger:Nurse registered successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:26:54] "POST /dbproj/register/nurse HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:27:01] "[31m[1mGET /dbproj/report?= HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:27:27] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:27:54] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:28:13] "GET /dbproj/report?= HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:28:55] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:29:15] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:29:48] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 400 -
INFO:logger:Received data: {'doctor_id': 2, 'date': '2021-6-10', 'type_type_': 'cardiologia', 'nurses': [{'nurse_id': 4, 'role_': 'backup'}]}
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:30:49] "POST /dbproj/appointment HTTP/1.1" 200 -
ERROR:hospital_rest_api:Exception on /dbproj/appointments/1 [GET]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/.local/lib/python3.10/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/hospital_rest_api.py", line 93, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/appointments_and_surgeries.py", line 271, in see_appt_patient
    'results': cur.fetchall()
psycopg2.ProgrammingError: no results to fetch
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:37:02] "[35m[1mGET /dbproj/appointments/1 HTTP/1.1[0m" 500 -
ERROR:hospital_rest_api:Exception on /dbproj/appointments/1 [GET]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/.local/lib/python3.10/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/hospital_rest_api.py", line 93, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/appointments_and_surgeries.py", line 271, in see_appt_patient
    'results': cur.fetchall()
psycopg2.ProgrammingError: no results to fetch
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:37:31] "[35m[1mGET /dbproj/appointments/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:hospital_rest_api:Exception on /dbproj/appointments/1 [GET]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/.local/lib/python3.10/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/hospital_rest_api.py", line 93, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/appointments_and_surgeries.py", line 272, in see_appt_patient
    'results': cur.fetchall()
psycopg2.ProgrammingError: no results to fetch
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:40:24] "[35m[1mGET /dbproj/appointments/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:hospital_rest_api:Exception on /dbproj/appointments/1 [GET]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/.local/lib/python3.10/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/hospital_rest_api.py", line 93, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/appointments_and_surgeries.py", line 273, in see_appt_patient
    'results': cur.fetchall()
psycopg2.ProgrammingError: no results to fetch
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:40:56] "[35m[1mGET /dbproj/appointments/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:hospital_rest_api:Exception on /dbproj/appointments/1 [GET]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/.local/lib/python3.10/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/hospital_rest_api.py", line 93, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/appointments_and_surgeries.py", line 270, in see_appt_patient
    result = cur.fetchall()
psycopg2.ProgrammingError: no results to fetch
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:43:32] "[35m[1mGET /dbproj/appointments/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:hospital_rest_api:Exception on /dbproj/appointments/1 [GET]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/.local/lib/python3.10/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/hospital_rest_api.py", line 93, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/appointments_and_surgeries.py", line 270, in see_appt_patient
    result = cur.fetchall()
psycopg2.ProgrammingError: no results to fetch
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:43:50] "[35m[1mGET /dbproj/appointments/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
ERROR:hospital_rest_api:Exception on /dbproj/appointments/1 [GET]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/kikols/.local/lib/python3.10/site-packages/flask_jwt_extended/view_decorators.py", line 170, in decorator
    return current_app.ensure_sync(fn)(*args, **kwargs)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/hospital_rest_api.py", line 93, in get_appointments
    return appointments_and_surgeries.see_appt_patient(patient_id)
  File "/home/kikols/Desktop/Uni/2ANO/2SEMESTRE/BD/Project/BD-Project/appointments_and_surgeries.py", line 270, in see_appt_patient
    result = cur.fetchall()
psycopg2.ProgrammingError: no results to fetch
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:44:18] "[35m[1mGET /dbproj/appointments/1 HTTP/1.1[0m" 500 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:44:29] "GET /dbproj/appointments/1 HTTP/1.1" 200 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 21:59:43] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:00:02] "[31m[1mGET /dbproj/report?= HTTP/1.1[0m" 401 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:00:24] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:00:31] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:00:38] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:00:57] "GET /dbproj/report?= HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:01:31] "[31m[1mGET /dbproj/appointments/1 HTTP/1.1[0m" 401 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:01:37] "GET /dbproj/appointments/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:06:29] "[31m[1mPOST /dbproj/surgery/1 HTTP/1.1[0m" 401 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "enrolment_surgery" violates foreign key constraint "enrolment_surgery_fk3"
DETAIL:  Key (nurse_employee_utilizador_id)=(3) is not present in table "nurse".

ERROR:hospital_rest_api:Exception on /dbproj/surgery [POST]
Traceback (most recent call last):
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 883, in full_dispatch_request
    return self.finalize_request(rv)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 902, in finalize_request
    response = self.make_response(rv)
  File "/home/kikols/.local/lib/python3.10/site-packages/flask/app.py", line 1174, in make_response
    raise TypeError(
TypeError: The view function for 'add_surgery' did not return a valid response. The function either returned None or ended without a return statement.
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:08:24] "[35m[1mPOST /dbproj/surgery HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:08:46] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:08:59] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:10:08] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:10:26] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:10:43] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:10:50] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:10:58] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:12:43] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:14:01] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:14:27] "POST /dbproj/surgery/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:14:40] "POST /dbproj/surgery/3 HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: new row for relation "surgery" violates check constraint "constraint_3"
DETAIL:  Failing row contains (4, estÃ©tica, 2024-10-15 00:00:00, 5, 2, 3).

INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:14:47] "POST /dbproj/surgery/3 HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: new row for relation "surgery" violates check constraint "constraint_3"
DETAIL:  Failing row contains (5, estÃ©tica, 2024-10-13 00:00:00, 5, 2, 3).

INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:15:12] "POST /dbproj/surgery/3 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:15:35] "POST /dbproj/surgery/3 HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: new row for relation "surgery" violates check constraint "constraint_3"
DETAIL:  Failing row contains (6, estÃ©tica, 2024-06-01 00:00:00, 5, 2, 2).

INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:15:44] "POST /dbproj/surgery/2 HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "enrolment_surgery" violates foreign key constraint "enrolment_surgery_fk3"
DETAIL:  Key (nurse_employee_utilizador_id)=(7) is not present in table "nurse".

INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:16:12] "POST /dbproj/surgery/2 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:16:31] "POST /dbproj/surgery/2 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:17:50] "[31m[1mGET /dbproj/top3 HTTP/1.1[0m" 401 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:18:21] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:19:47] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /patient
INFO:logger:bill paid successfull
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:20:00] "POST /dbproj/bills/4 HTTP/1.1" 200 -
INFO:logger:GET /report
INFO:logger:Report fabricated successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:21:58] "GET /dbproj/report?= HTTP/1.1" 200 -
INFO:logger:GET /top3
INFO:logger:top3 DOES NOT WORK YET
INFO:logger:Top 3 patients listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:23:00] "GET /dbproj/top3 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:23:27] "[31m[1mGET /dbproj/daily/2024-09-11 HTTP/1.1[0m" 401 -
INFO:logger:GET /daily/2024-10-14
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:24:10] "[31m[1mGET /dbproj/daily/2024-10-14 HTTP/1.1[0m" 401 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:24:22] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /daily/2024-10-14
INFO:logger:Daily report listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:24:33] "GET /dbproj/daily/2024-10-14 HTTP/1.1" 200 -
INFO:logger:GET /daily/2024-5-28
INFO:logger:Daily report listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:25:13] "GET /dbproj/daily/2024-5-28 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:25:58] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:26:13] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:26:27] "POST /dbproj/surgery HTTP/1.1" 200 -
INFO:logger:GET /daily/2024-5-28
INFO:logger:Daily report listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:26:44] "GET /dbproj/daily/2024-5-28 HTTP/1.1" 200 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:27:33] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:27:41] "POST /dbproj/utilizador HTTP/1.1" 200 -
ERROR:logger:POST /dbproj/surgery - error: insert or update on table "prescription" violates foreign key constraint "prescription_fk1"
DETAIL:  Key (hospitalization_hospitalization_id)=(1) is not present in table "hospitalization".

INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:27:59] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:28:24] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:28:37] "[31m[1mGET /dbproj/prescriptions/4 HTTP/1.1[0m" 401 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:28:57] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:POST /login
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:29:18] "POST /dbproj/utilizador HTTP/1.1" 200 -
INFO:logger:GET /dbproj/prescriptions
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:29:36] "GET /dbproj/prescriptions/1 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:30:24] "POST /dbproj/prescription HTTP/1.1" 200 -
INFO:logger:GET /daily/2024-5-28
INFO:logger:Daily report listed successfully
INFO:werkzeug:127.0.0.1 - - [28/May/2024 22:30:31] "GET /dbproj/daily/2024-5-28 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [28/May/2024 23:13:00] "[31m[1mPOST /dbproj/appointment HTTP/1.1[0m" 401 -
INFO:logger:API v1.0 online: http://127.0.0.1:8080
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8080
INFO:werkzeug:[33mPress CTRL+C to quit[0m
